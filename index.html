<!doctype html>
<html lang="fr">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Livre — FCDHC 13</title>
<style>
  html, body { margin:0; height:100%; background:#e7dfcf; font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }
  .wrap { display:flex; flex-direction:column; align-items:center; gap:10px; padding:16px; }
  .book { position: relative; width: min(92vw, 1200px); height: calc(min(92vw, 1200px) * 0.72); perspective: 2000px; background:#d8cdb6; border-radius:18px; box-shadow: 0 10px 30px rgba(0,0,0,.25) inset, 0 18px 40px rgba(0,0,0,.25); }
  .page { position:absolute; top:0; bottom:0; width:50%; overflow:hidden; background:#f4ecd8; transform-origin: left center; transition: transform 0.9s ease; box-shadow: 0 0 1px rgba(0,0,0,.4); }
  .page img { width:100%; height:100%; object-fit:contain; display:block; }
  .spread { position:absolute; inset:0; }
  .left { left:0; border-right:1px solid rgba(0,0,0,.15); }
  .right { right:0; transform-origin: right center; border-left:1px solid rgba(0,0,0,.15); }
  .turned { transform: rotateY(-180deg); }
  .controls { display:flex; gap:10px; align-items:center; justify-content:center; flex-wrap:wrap; }
  button { padding:10px 16px; border-radius:10px; border:1px solid rgba(0,0,0,.2); background:white; cursor:pointer; box-shadow:0 2px 6px rgba(0,0,0,.1); }
  button:disabled { opacity:0.5; cursor:not-allowed; }
  .page-num { font-size:14px; opacity:0.8; }
</style>
</head>
<body>
<div class="wrap">
  <div class="book" id="book">
    <div class="spread" id="spread"></div>
  </div>
  <div class="controls">
    <button id="prev">◀︎ Précédent</button>
    <span class="page-num" id="indicator"></span>
    <button id="next">Suivant ▶︎</button>
  </div>
</div>
<script>
const pages = ['pages/page_001.jpg', 'pages/page_002.jpg', 'pages/page_003.jpg', 'pages/page_004.jpg', 'pages/page_005.jpg', 'pages/page_006.jpg', 'pages/page_007.jpg', 'pages/page_008.jpg', 'pages/page_009.jpg', 'pages/page_010.jpg', 'pages/page_011.jpg', 'pages/page_012.jpg', 'pages/page_013.jpg', 'pages/page_014.jpg', 'pages/page_015.jpg', 'pages/page_016.jpg', 'pages/page_017.jpg', 'pages/page_018.jpg', 'pages/page_019.jpg', 'pages/page_020.jpg', 'pages/page_021.jpg', 'pages/page_022.jpg', 'pages/page_023.jpg', 'pages/page_024.jpg', 'pages/page_025.jpg', 'pages/page_026.jpg', 'pages/page_027.jpg', 'pages/page_028.jpg', 'pages/page_029.jpg', 'pages/page_030.jpg', 'pages/page_031.jpg', 'pages/page_032.jpg', 'pages/page_033.jpg', 'pages/page_034.jpg', 'pages/page_035.jpg', 'pages/page_036.jpg', 'pages/page_037.jpg', 'pages/page_038.jpg', 'pages/page_039.jpg', 'pages/page_040.jpg', 'pages/page_041.jpg', 'pages/page_042.jpg', 'pages/page_043.jpg', 'pages/page_044.jpg', 'pages/page_045.jpg', 'pages/page_046.jpg', 'pages/page_047.jpg', 'pages/page_048.jpg', 'pages/page_049.jpg', 'pages/page_050.jpg', 'pages/page_051.jpg', 'pages/page_052.jpg', 'pages/page_053.jpg'];
const spread = document.getElementById('spread');
let current = 0;

function render() {
  spread.innerHTML = '';
  const left = document.createElement('div');
  left.className = 'page left';
  const li = document.createElement('img');
  li.src = pages[current] || pages[0];
  left.appendChild(li);
  spread.appendChild(left);

  const right = document.createElement('div');
  right.className = 'page right';
  const ri = document.createElement('img');
  ri.src = pages[current+1] || '';
  right.appendChild(ri);
  spread.appendChild(right);

  document.getElementById('indicator').textContent =
    'Pages ' + (current+1) + (pages[current+1] ? '–' + (current+2) : '') + ' / ' + pages.length;
  document.getElementById('prev').disabled = current <= 0;
  document.getElementById('next').disabled = current >= pages.length - 2;
  right.onclick = next;
  left.onclick = prev;
}

function next() {
  if (current < pages.length - 2) {
    const right = spread.querySelector('.right');
    right.classList.add('turned');
    setTimeout(() => {
      current += 2;
      render();
    }, 380);
  }
}

function prev() {
  if (current >= 2) {
    const left = spread.querySelector('.left');
    left.classList.add('turned');
    setTimeout(() => {
      current -= 2;
      render();
    }, 380);
  }
}

document.getElementById('next').onclick = next;
document.getElementById('prev').onclick = prev;
render();
</script>
</body>
</html>
